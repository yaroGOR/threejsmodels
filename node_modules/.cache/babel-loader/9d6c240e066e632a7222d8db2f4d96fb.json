{"ast":null,"code":"import { useLayoutEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction Preload(_ref) {\n  var all = _ref.all,\n      scene = _ref.scene,\n      camera = _ref.camera;\n  var gl = useThree(function (_ref2) {\n    var gl = _ref2.gl;\n    return gl;\n  });\n  var dCamera = useThree(function (_ref3) {\n    var camera = _ref3.camera;\n    return camera;\n  });\n  var dScene = useThree(function (_ref4) {\n    var scene = _ref4.scene;\n    return scene;\n  }); // Layout effect because it must run before React commits\n\n  useLayoutEffect(function () {\n    var invisible = [];\n\n    if (all) {\n      (scene || dScene).traverse(function (object) {\n        if (object.visible === false) {\n          invisible.push(object);\n          object.visible = true;\n        }\n      });\n    } // Now compile the scene\n\n\n    gl.compile(scene || dScene, camera || dCamera); // Flips these objects back\n\n    invisible.forEach(function (object) {\n      return object.visible = false;\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return null;\n}\n\nexport { Preload };","map":{"version":3,"names":["useLayoutEffect","useThree","Preload","all","scene","camera","gl","dCamera","dScene","invisible","traverse","object","visible","push","compile","forEach"],"sources":["/Users/98yaroslavgorban/Desktop/gltfjsx-forked/node_modules/@react-three/drei/core/Preload.js"],"sourcesContent":["import { useLayoutEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction Preload({\n  all,\n  scene,\n  camera\n}) {\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const dCamera = useThree(({\n    camera\n  }) => camera);\n  const dScene = useThree(({\n    scene\n  }) => scene); // Layout effect because it must run before React commits\n\n  useLayoutEffect(() => {\n    const invisible = [];\n\n    if (all) {\n      (scene || dScene).traverse(object => {\n        if (object.visible === false) {\n          invisible.push(object);\n          object.visible = true;\n        }\n      });\n    } // Now compile the scene\n\n\n    gl.compile(scene || dScene, camera || dCamera); // Flips these objects back\n\n    invisible.forEach(object => object.visible = false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return null;\n}\n\nexport { Preload };\n"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,oBAAzB;;AAEA,SAASC,OAAT,OAIG;EAAA,IAHDC,GAGC,QAHDA,GAGC;EAAA,IAFDC,KAEC,QAFDA,KAEC;EAAA,IADDC,MACC,QADDA,MACC;EACD,IAAMC,EAAE,GAAGL,QAAQ,CAAC;IAAA,IAClBK,EADkB,SAClBA,EADkB;IAAA,OAEdA,EAFc;EAAA,CAAD,CAAnB;EAGA,IAAMC,OAAO,GAAGN,QAAQ,CAAC;IAAA,IACvBI,MADuB,SACvBA,MADuB;IAAA,OAEnBA,MAFmB;EAAA,CAAD,CAAxB;EAGA,IAAMG,MAAM,GAAGP,QAAQ,CAAC;IAAA,IACtBG,KADsB,SACtBA,KADsB;IAAA,OAElBA,KAFkB;EAAA,CAAD,CAAvB,CAPC,CASa;;EAEdJ,eAAe,CAAC,YAAM;IACpB,IAAMS,SAAS,GAAG,EAAlB;;IAEA,IAAIN,GAAJ,EAAS;MACP,CAACC,KAAK,IAAII,MAAV,EAAkBE,QAAlB,CAA2B,UAAAC,MAAM,EAAI;QACnC,IAAIA,MAAM,CAACC,OAAP,KAAmB,KAAvB,EAA8B;UAC5BH,SAAS,CAACI,IAAV,CAAeF,MAAf;UACAA,MAAM,CAACC,OAAP,GAAiB,IAAjB;QACD;MACF,CALD;IAMD,CAVmB,CAUlB;;;IAGFN,EAAE,CAACQ,OAAH,CAAWV,KAAK,IAAII,MAApB,EAA4BH,MAAM,IAAIE,OAAtC,EAboB,CAa4B;;IAEhDE,SAAS,CAACM,OAAV,CAAkB,UAAAJ,MAAM;MAAA,OAAIA,MAAM,CAACC,OAAP,GAAiB,KAArB;IAAA,CAAxB,EAfoB,CAeiC;EACtD,CAhBc,EAgBZ,EAhBY,CAAf;EAiBA,OAAO,IAAP;AACD;;AAED,SAASV,OAAT"},"metadata":{},"sourceType":"module"}