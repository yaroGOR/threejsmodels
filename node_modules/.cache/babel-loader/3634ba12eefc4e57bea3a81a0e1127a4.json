{"ast":null,"code":"import _classCallCheck from \"/Users/98yaroslavgorban/Desktop/gltfjsx-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/98yaroslavgorban/Desktop/gltfjsx-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/98yaroslavgorban/Desktop/gltfjsx-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/98yaroslavgorban/Desktop/gltfjsx-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { PerspectiveCamera, ShaderMaterial, Scene, OrthographicCamera, WebGLRenderTarget, UniformsUtils, Mesh, PlaneGeometry, LinearFilter, RGBFormat } from 'three';\nimport { BokehDepthShader, BokehShader2 } from '../shaders/BokehShader2.js';\n\nvar CinematicCamera = /*#__PURE__*/function (_PerspectiveCamera) {\n  _inherits(CinematicCamera, _PerspectiveCamera);\n\n  var _super = _createSuper(CinematicCamera);\n\n  function CinematicCamera(fov, aspect, near, far) {\n    var _this;\n\n    _classCallCheck(this, CinematicCamera);\n\n    _this = _super.call(this, fov, aspect, near, far);\n    _this.type = 'CinematicCamera';\n    _this.postprocessing = {\n      enabled: true\n    };\n    _this.shaderSettings = {\n      rings: 3,\n      samples: 4\n    };\n    var depthShader = BokehDepthShader;\n    _this.materialDepth = new ShaderMaterial({\n      uniforms: depthShader.uniforms,\n      vertexShader: depthShader.vertexShader,\n      fragmentShader: depthShader.fragmentShader\n    });\n    _this.materialDepth.uniforms['mNear'].value = near;\n    _this.materialDepth.uniforms['mFar'].value = far; // In case of cinematicCamera, having a default lens set is important\n\n    _this.setLens();\n\n    _this.initPostProcessing();\n\n    return _this;\n  } // providing fnumber and coc(Circle of Confusion) as extra arguments\n\n\n  _createClass(CinematicCamera, [{\n    key: \"setLens\",\n    value: function setLens(focalLength, filmGauge, fNumber, coc) {\n      // In case of cinematicCamera, having a default lens set is important\n      if (focalLength === undefined) focalLength = 35;\n      if (filmGauge !== undefined) this.filmGauge = filmGauge;\n      this.setFocalLength(focalLength); // if fnumber and coc are not provided, cinematicCamera tries to act as a basic PerspectiveCamera\n\n      if (fNumber === undefined) fNumber = 8;\n      if (coc === undefined) coc = 0.019;\n      this.fNumber = fNumber;\n      this.coc = coc; // fNumber is focalLength by aperture\n\n      this.aperture = focalLength / this.fNumber; // hyperFocal is required to calculate depthOfField when a lens tries to focus at a distance with given fNumber and focalLength\n\n      this.hyperFocal = focalLength * focalLength / (this.aperture * this.coc);\n    }\n  }, {\n    key: \"linearize\",\n    value: function linearize(depth) {\n      var zfar = this.far;\n      var znear = this.near;\n      return -zfar * znear / (depth * (zfar - znear) - zfar);\n    }\n  }, {\n    key: \"smoothstep\",\n    value: function smoothstep(near, far, depth) {\n      var x = this.saturate((depth - near) / (far - near));\n      return x * x * (3 - 2 * x);\n    }\n  }, {\n    key: \"saturate\",\n    value: function saturate(x) {\n      return Math.max(0, Math.min(1, x));\n    } // function for focusing at a distance from the camera\n\n  }, {\n    key: \"focusAt\",\n    value: function focusAt(focusDistance) {\n      if (focusDistance === undefined) focusDistance = 20;\n      var focalLength = this.getFocalLength(); // distance from the camera (normal to frustrum) to focus on\n\n      this.focus = focusDistance; // the nearest point from the camera which is in focus (unused)\n\n      this.nearPoint = this.hyperFocal * this.focus / (this.hyperFocal + (this.focus - focalLength)); // the farthest point from the camera which is in focus (unused)\n\n      this.farPoint = this.hyperFocal * this.focus / (this.hyperFocal - (this.focus - focalLength)); // the gap or width of the space in which is everything is in focus (unused)\n\n      this.depthOfField = this.farPoint - this.nearPoint; // Considering minimum distance of focus for a standard lens (unused)\n\n      if (this.depthOfField < 0) this.depthOfField = 0;\n      this.sdistance = this.smoothstep(this.near, this.far, this.focus);\n      this.ldistance = this.linearize(1 - this.sdistance);\n      this.postprocessing.bokeh_uniforms['focalDepth'].value = this.ldistance;\n    }\n  }, {\n    key: \"initPostProcessing\",\n    value: function initPostProcessing() {\n      if (this.postprocessing.enabled) {\n        this.postprocessing.scene = new Scene();\n        this.postprocessing.camera = new OrthographicCamera(window.innerWidth / -2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / -2, -10000, 10000);\n        this.postprocessing.scene.add(this.postprocessing.camera);\n        var pars = {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBFormat\n        };\n        this.postprocessing.rtTextureDepth = new WebGLRenderTarget(window.innerWidth, window.innerHeight, pars);\n        this.postprocessing.rtTextureColor = new WebGLRenderTarget(window.innerWidth, window.innerHeight, pars);\n        var bokeh_shader = BokehShader2;\n        this.postprocessing.bokeh_uniforms = UniformsUtils.clone(bokeh_shader.uniforms);\n        this.postprocessing.bokeh_uniforms['tColor'].value = this.postprocessing.rtTextureColor.texture;\n        this.postprocessing.bokeh_uniforms['tDepth'].value = this.postprocessing.rtTextureDepth.texture;\n        this.postprocessing.bokeh_uniforms['manualdof'].value = 0;\n        this.postprocessing.bokeh_uniforms['shaderFocus'].value = 0;\n        this.postprocessing.bokeh_uniforms['fstop'].value = 2.8;\n        this.postprocessing.bokeh_uniforms['showFocus'].value = 1;\n        this.postprocessing.bokeh_uniforms['focalDepth'].value = 0.1; //console.log( this.postprocessing.bokeh_uniforms[ \"focalDepth\" ].value );\n\n        this.postprocessing.bokeh_uniforms['znear'].value = this.near;\n        this.postprocessing.bokeh_uniforms['zfar'].value = this.near;\n        this.postprocessing.bokeh_uniforms['textureWidth'].value = window.innerWidth;\n        this.postprocessing.bokeh_uniforms['textureHeight'].value = window.innerHeight;\n        this.postprocessing.materialBokeh = new ShaderMaterial({\n          uniforms: this.postprocessing.bokeh_uniforms,\n          vertexShader: bokeh_shader.vertexShader,\n          fragmentShader: bokeh_shader.fragmentShader,\n          defines: {\n            RINGS: this.shaderSettings.rings,\n            SAMPLES: this.shaderSettings.samples,\n            DEPTH_PACKING: 1\n          }\n        });\n        this.postprocessing.quad = new Mesh(new PlaneGeometry(window.innerWidth, window.innerHeight), this.postprocessing.materialBokeh);\n        this.postprocessing.quad.position.z = -500;\n        this.postprocessing.scene.add(this.postprocessing.quad);\n      }\n    }\n  }, {\n    key: \"renderCinematic\",\n    value: function renderCinematic(scene, renderer) {\n      if (this.postprocessing.enabled) {\n        var currentRenderTarget = renderer.getRenderTarget();\n        renderer.clear(); // Render scene into texture\n\n        scene.overrideMaterial = null;\n        renderer.setRenderTarget(this.postprocessing.rtTextureColor);\n        renderer.clear();\n        renderer.render(scene, this); // Render depth into texture\n\n        scene.overrideMaterial = this.materialDepth;\n        renderer.setRenderTarget(this.postprocessing.rtTextureDepth);\n        renderer.clear();\n        renderer.render(scene, this); // Render bokeh composite\n\n        renderer.setRenderTarget(null);\n        renderer.render(this.postprocessing.scene, this.postprocessing.camera);\n        renderer.setRenderTarget(currentRenderTarget);\n      }\n    }\n  }]);\n\n  return CinematicCamera;\n}(PerspectiveCamera);\n\nexport { CinematicCamera };","map":{"version":3,"names":["PerspectiveCamera","ShaderMaterial","Scene","OrthographicCamera","WebGLRenderTarget","UniformsUtils","Mesh","PlaneGeometry","LinearFilter","RGBFormat","BokehDepthShader","BokehShader2","CinematicCamera","fov","aspect","near","far","type","postprocessing","enabled","shaderSettings","rings","samples","depthShader","materialDepth","uniforms","vertexShader","fragmentShader","value","setLens","initPostProcessing","focalLength","filmGauge","fNumber","coc","undefined","setFocalLength","aperture","hyperFocal","depth","zfar","znear","x","saturate","Math","max","min","focusDistance","getFocalLength","focus","nearPoint","farPoint","depthOfField","sdistance","smoothstep","ldistance","linearize","bokeh_uniforms","scene","camera","window","innerWidth","innerHeight","add","pars","minFilter","magFilter","format","rtTextureDepth","rtTextureColor","bokeh_shader","clone","texture","materialBokeh","defines","RINGS","SAMPLES","DEPTH_PACKING","quad","position","z","renderer","currentRenderTarget","getRenderTarget","clear","overrideMaterial","setRenderTarget","render"],"sources":["/Users/98yaroslavgorban/Desktop/gltfjsx-forked/node_modules/three-stdlib/cameras/CinematicCamera.js"],"sourcesContent":["import { PerspectiveCamera, ShaderMaterial, Scene, OrthographicCamera, WebGLRenderTarget, UniformsUtils, Mesh, PlaneGeometry, LinearFilter, RGBFormat } from 'three';\nimport { BokehDepthShader, BokehShader2 } from '../shaders/BokehShader2.js';\n\nclass CinematicCamera extends PerspectiveCamera {\n  constructor(fov, aspect, near, far) {\n    super(fov, aspect, near, far);\n    this.type = 'CinematicCamera';\n    this.postprocessing = {\n      enabled: true\n    };\n    this.shaderSettings = {\n      rings: 3,\n      samples: 4\n    };\n    const depthShader = BokehDepthShader;\n    this.materialDepth = new ShaderMaterial({\n      uniforms: depthShader.uniforms,\n      vertexShader: depthShader.vertexShader,\n      fragmentShader: depthShader.fragmentShader\n    });\n    this.materialDepth.uniforms['mNear'].value = near;\n    this.materialDepth.uniforms['mFar'].value = far; // In case of cinematicCamera, having a default lens set is important\n\n    this.setLens();\n    this.initPostProcessing();\n  } // providing fnumber and coc(Circle of Confusion) as extra arguments\n\n\n  setLens(focalLength, filmGauge, fNumber, coc) {\n    // In case of cinematicCamera, having a default lens set is important\n    if (focalLength === undefined) focalLength = 35;\n    if (filmGauge !== undefined) this.filmGauge = filmGauge;\n    this.setFocalLength(focalLength); // if fnumber and coc are not provided, cinematicCamera tries to act as a basic PerspectiveCamera\n\n    if (fNumber === undefined) fNumber = 8;\n    if (coc === undefined) coc = 0.019;\n    this.fNumber = fNumber;\n    this.coc = coc; // fNumber is focalLength by aperture\n\n    this.aperture = focalLength / this.fNumber; // hyperFocal is required to calculate depthOfField when a lens tries to focus at a distance with given fNumber and focalLength\n\n    this.hyperFocal = focalLength * focalLength / (this.aperture * this.coc);\n  }\n\n  linearize(depth) {\n    const zfar = this.far;\n    const znear = this.near;\n    return -zfar * znear / (depth * (zfar - znear) - zfar);\n  }\n\n  smoothstep(near, far, depth) {\n    const x = this.saturate((depth - near) / (far - near));\n    return x * x * (3 - 2 * x);\n  }\n\n  saturate(x) {\n    return Math.max(0, Math.min(1, x));\n  } // function for focusing at a distance from the camera\n\n\n  focusAt(focusDistance) {\n    if (focusDistance === undefined) focusDistance = 20;\n    const focalLength = this.getFocalLength(); // distance from the camera (normal to frustrum) to focus on\n\n    this.focus = focusDistance; // the nearest point from the camera which is in focus (unused)\n\n    this.nearPoint = this.hyperFocal * this.focus / (this.hyperFocal + (this.focus - focalLength)); // the farthest point from the camera which is in focus (unused)\n\n    this.farPoint = this.hyperFocal * this.focus / (this.hyperFocal - (this.focus - focalLength)); // the gap or width of the space in which is everything is in focus (unused)\n\n    this.depthOfField = this.farPoint - this.nearPoint; // Considering minimum distance of focus for a standard lens (unused)\n\n    if (this.depthOfField < 0) this.depthOfField = 0;\n    this.sdistance = this.smoothstep(this.near, this.far, this.focus);\n    this.ldistance = this.linearize(1 - this.sdistance);\n    this.postprocessing.bokeh_uniforms['focalDepth'].value = this.ldistance;\n  }\n\n  initPostProcessing() {\n    if (this.postprocessing.enabled) {\n      this.postprocessing.scene = new Scene();\n      this.postprocessing.camera = new OrthographicCamera(window.innerWidth / -2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / -2, -10000, 10000);\n      this.postprocessing.scene.add(this.postprocessing.camera);\n      const pars = {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBFormat\n      };\n      this.postprocessing.rtTextureDepth = new WebGLRenderTarget(window.innerWidth, window.innerHeight, pars);\n      this.postprocessing.rtTextureColor = new WebGLRenderTarget(window.innerWidth, window.innerHeight, pars);\n      const bokeh_shader = BokehShader2;\n      this.postprocessing.bokeh_uniforms = UniformsUtils.clone(bokeh_shader.uniforms);\n      this.postprocessing.bokeh_uniforms['tColor'].value = this.postprocessing.rtTextureColor.texture;\n      this.postprocessing.bokeh_uniforms['tDepth'].value = this.postprocessing.rtTextureDepth.texture;\n      this.postprocessing.bokeh_uniforms['manualdof'].value = 0;\n      this.postprocessing.bokeh_uniforms['shaderFocus'].value = 0;\n      this.postprocessing.bokeh_uniforms['fstop'].value = 2.8;\n      this.postprocessing.bokeh_uniforms['showFocus'].value = 1;\n      this.postprocessing.bokeh_uniforms['focalDepth'].value = 0.1; //console.log( this.postprocessing.bokeh_uniforms[ \"focalDepth\" ].value );\n\n      this.postprocessing.bokeh_uniforms['znear'].value = this.near;\n      this.postprocessing.bokeh_uniforms['zfar'].value = this.near;\n      this.postprocessing.bokeh_uniforms['textureWidth'].value = window.innerWidth;\n      this.postprocessing.bokeh_uniforms['textureHeight'].value = window.innerHeight;\n      this.postprocessing.materialBokeh = new ShaderMaterial({\n        uniforms: this.postprocessing.bokeh_uniforms,\n        vertexShader: bokeh_shader.vertexShader,\n        fragmentShader: bokeh_shader.fragmentShader,\n        defines: {\n          RINGS: this.shaderSettings.rings,\n          SAMPLES: this.shaderSettings.samples,\n          DEPTH_PACKING: 1\n        }\n      });\n      this.postprocessing.quad = new Mesh(new PlaneGeometry(window.innerWidth, window.innerHeight), this.postprocessing.materialBokeh);\n      this.postprocessing.quad.position.z = -500;\n      this.postprocessing.scene.add(this.postprocessing.quad);\n    }\n  }\n\n  renderCinematic(scene, renderer) {\n    if (this.postprocessing.enabled) {\n      const currentRenderTarget = renderer.getRenderTarget();\n      renderer.clear(); // Render scene into texture\n\n      scene.overrideMaterial = null;\n      renderer.setRenderTarget(this.postprocessing.rtTextureColor);\n      renderer.clear();\n      renderer.render(scene, this); // Render depth into texture\n\n      scene.overrideMaterial = this.materialDepth;\n      renderer.setRenderTarget(this.postprocessing.rtTextureDepth);\n      renderer.clear();\n      renderer.render(scene, this); // Render bokeh composite\n\n      renderer.setRenderTarget(null);\n      renderer.render(this.postprocessing.scene, this.postprocessing.camera);\n      renderer.setRenderTarget(currentRenderTarget);\n    }\n  }\n\n}\n\nexport { CinematicCamera };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}